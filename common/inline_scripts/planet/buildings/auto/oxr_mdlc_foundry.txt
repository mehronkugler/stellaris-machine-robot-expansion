category = manufacturing
# This trigger in vanilla checks is_ringworld, but,
# this can never be built on a vanilla ringworld , only a world machine
# and then only on a auto-ringworld
resources = {
	category = oxr_mdlc_world_machines_foundry_buildings
	cost = {
		trigger = { NOT = { is_planet_class = xvcv_mdlc_pc_ringworld_machine_auto } }
		minerals = $COST$
		volatile_motes = $RARE_COST$
	}
	upkeep = {
		energy = $UPKEEP$
	}
	upkeep = {
		trigger = {
			OR = {
				has_building = oxr_mdlc_world_machines_building_auto_forge_3
				has_building = oxr_mdlc_world_machines_building_auto_forge_2
			}
		}
		volatile_motes = $RARE_UKPEEP$
	}

	inline_script = planet/buildings/auto/oxr_mdlc_foundry_produces
}

## NOT CATALYTIC
# 10% for T2
triggered_planet_modifier = {
	potential = {
		exists = owner
		# owner = { is_catalytic_empire = no }
		has_building = oxr_mdlc_world_machines_building_auto_forge_2
	}
	modifier = {
		planet_metallurgists_alloys_produces_mult = 0.1
		planet_metallurgists_minerals_upkeep_mult = 0.1
		xvcv_mdlc_world_machines_foundry_districts_alloys_produces_mult = 0.1
		xvcv_mdlc_world_machines_foundry_districts_alloys_upkeep_mult = 0.1
	}
}
# 20% for T3
triggered_planet_modifier = {
	potential = {
		exists = owner
		# owner = { is_catalytic_empire = no }
		has_building = oxr_mdlc_world_machines_building_auto_forge_3
	}
	modifier = {
		planet_metallurgists_alloys_produces_mult = 0.2
		planet_metallurgists_minerals_upkeep_mult = 0.2
		xvcv_mdlc_world_machines_foundry_districts_alloys_produces_mult = 0.2
		xvcv_mdlc_world_machines_foundry_districts_alloys_upkeep_mult = 0.2
	}
}
# on blocker cleared is called at the last arc site stage
on_world_machine_blocker_cleared = {
	# Contribute towards progress in unlocking tech
	events = {
		oxr_mdlc_on_world_machine_action.100  # blocker situation increment progress
		oxr_mdlc_on_world_machine_action.1001  # points towards insight situation
	}
}
on_world_machine_insight_blocker_cleared = {
	# Contribute towards unlocking world machine core using planetary blocker-clearing interface
	events = {
		oxr_mdlc_on_world_machine_action.110  # increment insights counter
	}
}
on_world_machine_blocker_digsite_progress = { }

# planet scope
on_world_machine_blocker_digsite_finished = {
	# Contribute towards progress in unlocking tech
	# Create another digsite if any more blockers exist ?
	# Does the player have the right tech? If so, don't spawn the next dig.
	#  - Just award progress points
	events = {
		oxr_mdlc_on_world_machine_action.10   # Create the next digsite
		oxr_mdlc_on_world_machine_action.1000  # points towards insights situation
	}
}
on_world_machine_arc_site_progress = {
	events = {
		oxr_mdlc_on_world_machine_action.1002  # points towards insights situation
	}
}

on_world_machine_popless_building_constructed = {
	# Progress awarded for building WM-specific buildings
	events = {
		oxr_mdlc_on_world_machine_action.1005
	}
}
on_world_machine_district_completed = {
	events = {
		oxr_mdlc_on_world_machine_action.1005  # Record situation points
		oxr_mdlc_on_world_machine_action.1905  # restock district defense armies
	}
}
on_world_machine_district_demolished = {
	events = {
		oxr_mdlc_on_world_machine_action.1909  # Recalculate district armies, decommission
	}
}
on_world_machine_ruined_planet_discovered = {
	# Award some progress points for finding a ruined world machine
	events = {
		oxr_mdlc_on_world_machine_action.1004  # points towards insights situation
	}
}
on_world_machine_restoration_stage_complete = {
	events = {
		oxr_mdlc_on_world_machine_action.1007  # points towards insight situation
	}
}
on_world_machine_restoration_finished = {
	events = {
		oxr_mdlc_on_world_machine_action.1008  # points towards insight situation
	}
}
on_terraforming_complete = {
	events = {
		oxr_mdlc_origin_wm_main.500  # immediately create colony, blockers, and digsite. Add core.
	}
}
on_world_machine_core_terraforming_complete = {
	events = {
		oxr_mdlc_origin_wm_main.1100  # increment 'deploy world core' situation counter
	}
}
on_world_machine_core_fabrication_complete = {
	events = {
		
	}
}

# Root = Planet
# From = Country
# FromFrom = Fleet of the science ship that surveyed it, if any
on_planet_surveyed = {
	events = {
		oxr_mdlc_on_world_machine_action.1100  # Check if ruined wm, make arc site
	}
}
on_district_demolished = {
	events = {
		oxr_mdlc_on_world_machine_action.1900  # Hook for calling on_world_machine_district_demolished
	}
}
on_custom_diplomacy = {
	events = {
		oxr_mdlc_on_world_machine_action.3000
	}
}
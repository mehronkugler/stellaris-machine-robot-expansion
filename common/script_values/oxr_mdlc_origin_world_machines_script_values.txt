# 50 core storage per building
oxr_mdlc_planet_calculate_max_core_storage = {
	base = 0
	complex_trigger_modifier = {
		trigger = num_buildings
		parameters = {
			type = oxr_mdlc_world_machines_building_storage_cradle
			disabled = no
		}
		mode = add
	}
	mult = 50
}

oxr_mdlc_planet_count_district_defense_armies = {
	# base = 0
	complex_trigger_modifier = {
		trigger = count_planet_army
		parameters = {
			# exists = owner
			army_type = oxr_mdlc_world_machine_district_defense_army
		}
		mode = add
	}
}
oxr_mdlc_planet_count_max_possible_district_armies = {
	complex_trigger_modifier = {
		trigger = num_districts
		parameters = { type = any }
		mode = add
	}
}
oxr_mdlc_planet_count_built_districts = {
	complex_trigger_modifier = {
		trigger = num_free_districts
		parameters = {
			type = any
		}
		mode = add
	}
}
oxr_mdlc_planet_count_free_districts = {
	complex_trigger_modifier = {
		trigger = num_districts
		parameters = {
			type = any
		}
		mode = add
	}
}

# Yes lots of repeated code in this file, I see that, gimme a break I'll fix it later 

oxr_mdlc_planet_num_district_armies_to_refill = {
	base = value:oxr_mdlc_planet_count_max_possible_district_armies
	subtract = value:oxr_mdlc_planet_count_district_defense_armies
}

# TODO: Code these to use planet vars and set up triggers to update the vars on_actions
oxr_mdlc_planet_calculate_army_refill_time = {
	base = value:oxr_mdlc_planet_num_district_armies_to_refill
	mult = @oxr_mdlc_world_machine_defense_armies_refill_time  # 7 days to refill one army
}

oxr_mdlc_planet_calculate_army_refill_cost = {
	base = value:oxr_mdlc_planet_num_district_armies_to_refill
	mult = @oxr_mdlc_world_machine_defense_armies_refill_cost  # charge 100 energy per army
}

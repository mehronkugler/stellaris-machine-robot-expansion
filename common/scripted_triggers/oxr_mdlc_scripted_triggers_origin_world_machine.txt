oxr_mdlc_origin_world_machine_feature_enabled = {
	has_country_flag = oxr_mdlc_origin_world_machine_feature_enabled
}

oxr_mdlc_planet_owner_can_build_wm_districts = {
	OR = {
		has_ascension_perk = xvcv_mdlc_ap_world_machines
		has_origin = oxr_mdlc_origin_world_machine_awakened
	}
}

oxr_mdlc_planet_has_any_world_machine_blockers = {
	OR = {
		has_deposit = oxr_mdlc_d_world_machine_collapsed_charge_controller
		has_deposit = oxr_mdlc_d_world_machine_flooded_borehole
		has_deposit = oxr_mdlc_d_world_machine_fossilized_nutrient_bog
		has_deposit = oxr_mdlc_d_world_machine_clogged_furnace_discharge
		has_deposit = oxr_mdlc_d_world_machine_irradiated_drone_storage
		has_deposit = oxr_mdlc_d_world_machine_meteor_shower_impacts
		has_deposit = oxr_mdlc_d_world_machine_collapsed_transportation_hubs
		has_deposit = oxr_mdlc_d_world_machine_exposed_structural_chasms
		has_deposit = oxr_mdlc_d_world_machine_dense_geologic_mass
		has_deposit = oxr_mdlc_d_world_machine_offline_data_routers
		has_deposit = oxr_mdlc_d_world_machine_damaged_data_cold_storages
		has_deposit = oxr_mdlc_d_world_machine_frozen_waterway_pistons
		has_deposit = oxr_mdlc_d_world_machine_incomplete_construction_bays
	}
}

oxr_mdlc_deposit_is_world_machine_blocker = {
	OR = {
		is_deposit_type = oxr_mdlc_d_world_machine_collapsed_charge_controller
		is_deposit_type = oxr_mdlc_d_world_machine_flooded_borehole
		is_deposit_type = oxr_mdlc_d_world_machine_fossilized_nutrient_bog
		is_deposit_type = oxr_mdlc_d_world_machine_clogged_furnace_discharge
		is_deposit_type = oxr_mdlc_d_world_machine_irradiated_drone_storage
		is_deposit_type = oxr_mdlc_d_world_machine_meteor_shower_impacts
		is_deposit_type = oxr_mdlc_d_world_machine_collapsed_transportation_hubs
		is_deposit_type = oxr_mdlc_d_world_machine_exposed_structural_chasms
		is_deposit_type = oxr_mdlc_d_world_machine_dense_geologic_mass
		is_deposit_type = oxr_mdlc_d_world_machine_offline_data_routers
		is_deposit_type = oxr_mdlc_d_world_machine_damaged_data_cold_storages
		is_deposit_type = oxr_mdlc_d_world_machine_frozen_waterway_pistons
		is_deposit_type = oxr_mdlc_d_world_machine_incomplete_construction_bays
	}
}

oxr_mdlc_world_machine_blocker_yields_insights = {
	OR = {
		is_deposit_type = oxr_mdlc_d_world_machine_offline_data_routers
		is_deposit_type = oxr_mdlc_d_world_machine_damaged_data_cold_storages
		is_deposit_type = oxr_mdlc_d_world_machine_frozen_waterway_pistons
		is_deposit_type = oxr_mdlc_d_world_machine_incomplete_construction_bays
	}
}

oxr_mdlc_planet_can_become_world_machine = {
	OR = {
		is_planet_class = pc_machine
		is_planet_class = pc_barren
		is_planet_class = pc_barren_cold
		is_planet_class = pc_nuked
		is_planet_class = pc_gaia
		is_planet_class = pc_hive
		is_planet_class = pc_desert
		is_planet_class = pc_arid
		is_planet_class = pc_savannah
		is_planet_class = pc_arctic
		is_planet_class = pc_tundra
		is_planet_class = pc_alpine
		is_planet_class = pc_continental
		is_planet_class = pc_tropical
		is_planet_class = pc_ocean
	}
}

oxr_mdlc_planet_is_core_storage_full = {
	check_variable = {
		which = oxr_mdlc_planet_world_machine_cores_amount
		value <= 50
	}
}
oxr_mdlc_planet_has_room_for_more_cores = {
	custom_tooltip_fail = {
		text = "oxr_mdlc_decisions_origin_wm_manufacture_core.fail_no_room"
		check_variable = {
			which = oxr_mdlc_planet_world_machine_cores_amount
			value < oxr_mdlc_planet_world_machine_cores_amount_max
		}
	}
}

oxr_mdlc_planet_can_refill_district_defense_armies = {
	count_planet_army = {
		count <= value:oxr_mdlc_planet_count_max_possible_district_armies
		limit = {
			exists = owner
			army_type = oxr_mdlc_world_machine_district_defense_army
		}
	}
}
